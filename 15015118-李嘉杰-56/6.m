A = [1 1 3 -1;
     0 1 -1 1;
     1 1 2 2 ;
     1 -1 1 -1];
B = [-2 1 4 0]';

S = length(A(:,1));
R = rank(A);

if S==R
  X = A\B
else
  fprintf('error\n')
end

A1 = diag([5 5 5 5 5])+diag([6 6 6 6],1)+diag([1 1 1 1], -1);
B1 = [1 0 0 0 1]';

if S==R
  X1 = A\B
else
  fprintf('error\n')
end

A3 = [ 1 1 -3 -1;
       3 -1 -3 4;
       1 5 -9 -8];

B3 = [1 4 0]';

A4 = [1 -2 3 -1;
      3 -1 5 -3;
      2 1 2 -2];

B4 = [1 2 3]';

rref([A3 B3])
%% ans =

%% 1.00   0.00  -1.50   0.75   1.25
%% 0.00   1.00  -1.50  -1.75  -0.25
%% 0.00   0.00   0.00   0.00   0.00


rref([A4 B4])
%% ans =

%% 1.00   0.00   1.40  -1.00   0.00
%% 0.00   1.00  -0.80  -0.00   0.00
%% 0.00   0.00   0.00   0.00   1.00

syms x1 x2 

X1 = [1.25 -0.25]' + x1*[1.5 1.5 1 0]'+x2*[-0.75 1.75 0 1]';
% X2 无解
